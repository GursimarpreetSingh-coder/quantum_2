<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåç Quantum-Enhanced AI Logistics Engine</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üåç</text></svg>">
</head>
<body>
    <!-- Skip to main content for screen readers -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Live region for screen reader announcements -->
    <div id="live-region" class="live-region" aria-live="polite" aria-atomic="true"></div>
    
    <!-- Background Elements -->
    <div class="background-elements" aria-hidden="true">
        <div class="floating-orb orb-1"></div>
        <div class="floating-orb orb-2"></div>
        <div class="floating-orb orb-3"></div>
        <div class="grid-pattern"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <div class="brand-icon">üåç</div>
                <div class="brand-text">
                    <span class="brand-title">Quantum Logistics</span>
                    <span class="brand-subtitle">AI-Powered Route Optimization</span>
                </div>
            </div>
            <div class="nav-controls">
                <div class="theme-toggle">
                    <input type="checkbox" id="themeToggle" />
                    <label for="themeToggle" class="toggle-label">
                        <i class="fas fa-sun sun-icon"></i>
                        <i class="fas fa-moon moon-icon"></i>
                        <div class="toggle-slider"></div>
                    </label>
                </div>
                <button class="nav-menu-btn" id="navMenuBtn" aria-haspopup="true" aria-expanded="false" aria-controls="navMenu">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="nav-menu" id="navMenu" role="menu" aria-labelledby="navMenuBtn">
                    <a class="nav-menu-item" role="menuitem" href="#">Docs</a>
                    <a class="nav-menu-item" role="menuitem" href="#">Changelog</a>
                    <a class="nav-menu-item" role="menuitem" href="#">Report Issue</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <main id="main-content" class="main-container">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-content">
                <div class="hero-badge">
                    <i class="fas fa-atom"></i>
                    <span>Quantum-Enhanced</span>
                </div>
                <h1 class="hero-title">
                    Next-Generation
                    <span class="gradient-text">Logistics Intelligence</span>
                </h1>
                <p class="hero-description">
                    Harness the power of quantum computing and AI to optimize delivery routes, 
                    reduce emissions, and revolutionize last-mile logistics.
                </p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <div class="stat-number" id="heroTimeSaved">--</div>
                        <div class="stat-label">% Time Saved</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="heroCO2">--</div>
                        <div class="stat-label">% CO‚ÇÇ Reduction</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="heroAccuracy">--</div>
                        <div class="stat-label">% On-Time Delivery</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dashboard -->
        <section class="dashboard">
            <!-- Control Panel -->
            <div class="control-panel glass-card">
                <div class="panel-header">
                    <h3><i class="fas fa-sliders-h"></i> Control Center</h3>
                    <div class="panel-status" id="connectionStatus">
                        <div class="status-dot online"></div>
                        <span>System Online</span>
                    </div>
                </div>
                
                <div class="control-section">
                    <div class="section-title">
                        <i class="fas fa-road"></i>
                        <span>Traffic Scenario</span>
                    </div>
                    <div class="scenario-grid">
                        <div class="scenario-card active" data-scenario="normal">
                            <i class="fas fa-car"></i>
                            <span>Normal</span>
                            <div class="scenario-indicator"></div>
                        </div>
                        <div class="scenario-card" data-scenario="peak">
                            <i class="fas fa-traffic-light"></i>
                            <span>Peak</span>
                            <div class="scenario-indicator"></div>
                        </div>
                        <div class="scenario-card" data-scenario="incident">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>Incident</span>
                            <div class="scenario-indicator"></div>
                        </div>
                        <div class="scenario-card" data-scenario="storm">
                            <i class="fas fa-cloud-rain"></i>
                            <span>Storm</span>
                            <div class="scenario-indicator"></div>
                        </div>
                    </div>
                </div>

                <div class="control-section">
                    <div class="section-title">
                        <i class="fas fa-cogs"></i>
                        <span>Actions</span>
                    </div>
                    <div class="action-buttons">
                        <button class="btn btn-outline" id="loadSample" aria-describedby="loadSample-desc">
                            <i class="fas fa-database" aria-hidden="true"></i>
                            <span>Load Sample Data</span>
                        </button>
                        <div id="loadSample-desc" class="sr-only">Load sample delivery locations for testing</div>
                        
                        <button class="btn btn-warning" id="clearMap" aria-describedby="clearMap-desc">
                            <i class="fas fa-trash-alt" aria-hidden="true"></i>
                            <span>Clear Map</span>
                        </button>
                        <div id="clearMap-desc" class="sr-only">Remove all locations from the map</div>
                        
                        <button class="btn btn-primary btn-glow" id="optimizeRoute" aria-describedby="optimizeRoute-desc">
                            <i class="fas fa-rocket" aria-hidden="true"></i>
                            <span>Optimize Route</span>
                            <div class="btn-particles" aria-hidden="true"></div>
                        </button>
                        <div id="optimizeRoute-desc" class="sr-only">Start quantum-enhanced route optimization</div>
                        <div class="setting-group" style="margin-top:8px">
                            <label for="solverSelect" class="sr-only">Solver</label>
                            <select id="solverSelect" class="glass-mini" style="width:100%;padding:8px;border-radius:8px;border:1px solid var(--glass-border);background:var(--glass-bg);color:var(--text-white)">
                                <option value="nearest_neighbor">Nearest Neighbor</option>
                                <option value="two_opt_ai">AI 2-Opt (Heuristic)</option>
                                <option value="quantum_inspired">Quantum-Inspired (Stochastic + 2-Opt)</option>
                                <option value="qubo_sa">QUBO (Simulated Annealing)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="control-section">
                    <div class="section-title">
                        <i class="fas fa-chart-line"></i>
                        <span>Quick Stats</span>
                    </div>
                    <div class="quick-stats">
                        <div class="quick-stat">
                            <div class="stat-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="nodeCount">0</div>
                                <div class="stat-name">Nodes</div>
                            </div>
                        </div>
                        <div class="quick-stat">
                            <div class="stat-icon">
                                <i class="fas fa-route"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="routeDistance">--</div>
                                <div class="stat-name">Distance</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Map Container -->
            <div class="map-section">
                <div class="map-container glass-card">
                    <div class="map-header">
                        <div class="map-title">
                            <i class="fas fa-globe-americas"></i>
                            <span>Interactive Route Visualization</span>
                        </div>
                        <div class="map-controls">
                            <button class="map-btn" id="fullscreenBtn" title="Fullscreen">
                                <i class="fas fa-expand"></i>
                            </button>
                            <button class="map-btn" id="layersBtn" title="Layers">
                                <i class="fas fa-layer-group"></i>
                            </button>
                            <button class="map-btn" id="settingsBtn" title="Settings">
                                <i class="fas fa-cog"></i>
                            </button>
                        </div>
                    </div>
                    <div id="map" class="map-canvas" role="application" aria-label="Interactive route optimization map" tabindex="0"></div>
                    <div class="map-overlay">
                        <div class="legend glass-mini">
                            <div class="legend-title">Route Legend</div>
                            <div class="legend-items">
                                <div class="legend-item">
                                    <div class="legend-line baseline"></div>
                                    <span>Baseline Route</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-line optimized"></div>
                                    <span>Optimized Route</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-marker depot"></div>
                                    <span>Depot</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-marker node"></div>
                                    <span>Delivery Point</span>
                                </div>
                            </div>
                        </div>
                        <div class="map-instructions glass-mini" id="mapInstructions">
                            <i class="fas fa-info-circle"></i>
                            <span>Click on the map to add delivery points</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Panel -->
            <div class="results-panel glass-card">
                <div class="panel-header">
                    <h3><i class="fas fa-chart-bar"></i> Optimization Results</h3>
                    <div class="export-btn" id="exportResults" title="Export Results">
                        <i class="fas fa-download"></i>
                    </div>
                </div>
                <div id="results" class="results-content" role="region" aria-label="Optimization results" aria-live="polite">
                    <div class="empty-state">
                        <div class="empty-icon" aria-hidden="true">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="empty-title">Ready for Optimization</div>
                        <div class="empty-description">
                            Add delivery points and click "Optimize Route" to see detailed results
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Metrics Dashboard -->
        <section class="metrics-dashboard">
            <div class="metrics-grid">
                <div class="metric-card glass-card">
                    <div class="metric-header">
                        <div class="metric-icon time">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="metric-trend positive">
                            <i class="fas fa-arrow-up"></i>
                        </div>
                    </div>
                    <div class="metric-content">
                        <div class="metric-value" id="timeImprovement">--</div>
                        <div class="metric-label">Time Improvement</div>
                        <div class="metric-sublabel">Minutes saved per route</div>
                    </div>
                    <div class="metric-chart">
                        <canvas id="timeChart" width="100" height="40"></canvas>
                    </div>
                </div>

                <div class="metric-card glass-card">
                    <div class="metric-header">
                        <div class="metric-icon eco">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <div class="metric-trend positive">
                            <i class="fas fa-arrow-down"></i>
                        </div>
                    </div>
                    <div class="metric-content">
                        <div class="metric-value" id="co2Savings">--</div>
                        <div class="metric-label">CO‚ÇÇ Reduction</div>
                        <div class="metric-sublabel">Kilograms per route</div>
                    </div>
                    <div class="metric-chart">
                        <canvas id="co2Chart" width="100" height="40"></canvas>
                    </div>
                </div>

                <div class="metric-card glass-card">
                    <div class="metric-header">
                        <div class="metric-icon fuel">
                            <i class="fas fa-gas-pump"></i>
                        </div>
                        <div class="metric-trend positive">
                            <i class="fas fa-arrow-down"></i>
                        </div>
                    </div>
                    <div class="metric-content">
                        <div class="metric-value" id="fuelSavings">--</div>
                        <div class="metric-label">Fuel Savings</div>
                        <div class="metric-sublabel">Liters saved per route</div>
                    </div>
                    <div class="metric-chart">
                        <canvas id="fuelChart" width="100" height="40"></canvas>
                    </div>
                </div>

                <div class="metric-card glass-card">
                    <div class="metric-header">
                        <div class="metric-icon delivery">
                            <i class="fas fa-shipping-fast"></i>
                        </div>
                        <div class="metric-trend positive">
                            <i class="fas fa-arrow-up"></i>
                        </div>
                    </div>
                    <div class="metric-content">
                        <div class="metric-value" id="onTimeRate">--</div>
                        <div class="metric-label">On-Time Delivery</div>
                        <div class="metric-sublabel">Success rate percentage</div>
                    </div>
                    <div class="metric-chart">
                        <canvas id="deliveryChart" width="100" height="40"></canvas>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="quantum-loader">
                <div class="quantum-ring ring-1"></div>
                <div class="quantum-ring ring-2"></div>
                <div class="quantum-ring ring-3"></div>
                <div class="quantum-core">
                    <i class="fas fa-atom"></i>
                </div>
            </div>
            <div class="loading-text">
                <div class="loading-title">Quantum Processing</div>
                <div class="loading-subtitle" id="loadingSubtitle">Optimizing route...</div>
            </div>
            <div class="loading-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">0%</div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toasts" class="toasts"></div>

    <!-- Status Indicator -->
    <div class="status-indicator" id="statusIndicator">
        <div class="status-dot"></div>
        <div class="status-text" id="statusText">Ready</div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Configure this when deploying. Example: window.API_BASE_URL = 'https://your-api.onrender.com';
        window.API_BASE_URL = window.API_BASE_URL || '';
    </script>
    <script src="app.js"></script>
</body>
</html>